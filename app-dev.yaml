runtime: python311
entrypoint: gunicorn -b :$PORT main:app
instance_class: F1

handlers:
  - url: /.*
    script: auto

automatic_scaling:
  target_cpu_utilization: 0.65
  min_instances: 0
  max_instances: 2

env_variables:
  FLASK_ENV: development
  PYTHONUNBUFFERED: "1"
  PROJECT_ID: 'cloned-it-dev'
  DB_USER: 'root'
  DB_NAME: 'cloned_it'
  CLOUD_SQL_CONNECTION_NAME: 'cloned-it-dev:europe-west1:cloned-it-dev'

# Configure Cloud SQL connection
beta_settings:
  cloud_sql_instances: cloned-it-dev:europe-west1:cloned-it-dev